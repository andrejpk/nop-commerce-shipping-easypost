@model ConfigurationModel

<script>
    $(document).ready(function () {
        $("#@Html.IdFor(model => model.UseSandbox)").click(toggleSandbox);
        toggleSandbox();
    });

    function toggleSandbox() {
        if ($('#@Html.IdFor(model => model.UseSandbox)').is(':checked')) {
            $('#api-key').hideElement();
            $('#test-api-key').showElement();
            $('#carriers').hideElement();
        } else {
            $('#api-key').showElement();
            $('#test-api-key').hideElement();
            $('#carriers').showElement();
            if (typeof toggleAllCarriers === 'function') {
                toggleAllCarriers();
            }
        }
    }
</script>

<div class="card card-default no-margin">
    <div class="card-header">
        @T("Plugins.Shipping.EasyPost.Configuration.Credentials")
    </div>
    <div class="card-body">
        <p>
            To enable this shipping provider, you'll need to:<br />
            <br />
            1. <a href="https://www.easypost.com/signup" target="_blank">Sign up for an EasyPost account</a><br />
            2. Enter your carrier specific credentials on the <a href="https://www.easypost.com/account/carriers" target="_blank">Carrier Account Dashboard</a><br />
            <em>Note: Unless you've entered your carrier information for other carriers, you'll just receive USPS rates.</em><br />
            <em>Note: Negotiated rates are only available in Production mode.</em><br />
            3. Find your <a href="https://www.easypost.com/account/api-keys" target="_blank">API keys</a>. Use Test key for testing purposes and switch to your Production key when you're ready to buy real postage.<br />
            See <a href="https://docs.nopcommerce.com/en/getting-started/configure-shipping/shipping-providers/easypost.html" target="_blank">documentation</a> for more information.<br />
        </p>
        <div class="form-group row">
            <div class="col-md-3">
                <nop-label asp-for="UseSandbox" />
            </div>
            <div class="col-md-9">
                <nop-editor asp-for="UseSandbox" />
                <span asp-validation-for="UseSandbox"></span>
            </div>
        </div>
        <div class="form-group row" id="api-key">
            <div class="col-md-3">
                <nop-label asp-for="ApiKey" />
            </div>
            <div class="col-md-9">
                <nop-editor asp-for="ApiKey" asp-required="true" html-attributes="@(new { value = Model.ApiKey })" />
                <span asp-validation-for="ApiKey"></span>
            </div>
        </div>
        <div class="form-group row" id="test-api-key">
            <div class="col-md-3">
                <nop-label asp-for="TestApiKey" />
            </div>
            <div class="col-md-9">
                <nop-editor asp-for="TestApiKey" html-attributes="@(new { value = Model.TestApiKey })" />
                <span asp-validation-for="TestApiKey"></span>
            </div>
        </div>
    </div>
</div>
